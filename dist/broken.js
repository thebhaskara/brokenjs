!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],e):"object"==typeof exports?exports.broken=e(require("lodash")):t.broken=e(t._)}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(e,n){e.exports=t},function(t,e,n){var o=n(0);t.exports.select=function(t){return t.startsWith("<")?s(t):document.querySelectorAll(t)},t.exports.get=function(t){return document.getElementById(t)};var i=t.exports.create=function(t){return document.createElement(t)},r=t.exports.append=function(t,e){e instanceof HTMLElement?t.appendChild(e):t instanceof HTMLElement&&document.body.append(t)};t.exports.appendAll=function(t){o.each(t,r)};var a,c,s=t.exports.makeElements=function(t){var e=i("div");return e.innerHTML=t,o.map(e.children)};t.exports.empty=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)};a=document.body.classList?function(t,e){t.classList.add(e)}:function(t,e){t.className+=" "+e},t.exports.addClass=a,c=document.body.classList?function(t,e){t.classList.remove(e)}:function(t,e){t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},t.exports.removeClass=c},function(t,e){var n=t.exports=function(){this.value=0};n.prototype.next=function(){return this.value++,this.value},n.prototype.reset=function(){return this.value=0,this}},function(t,e,n){const o=n(0);n(1);var i={},r=t.exports=function(t,e){this._binders=o.clone(i)},a={modes:"a"},c=(r.addBinder=r.prototype.addBinder=function(t,e,n){var r=this&&this._binders||i;if(r[t])throw t+" binder already exists";o.isFunction(e)&&(n=e,e=a);var u=c(e),p=u.join().indexOf("a")>-1,f=s(u,t);r[t]={name:t,modes:u,hasAttributeMode:p,selector:f,callback:n,options:e}},function(t){var e=t&&o.isString(t.modes)&&t.modes||"a";return e=e.toLowerCase().replace(/[^a|^e|^c]/g,"").split(),o.uniq(e)}),s=function(t,e){return o.map(t,function(t){return"a"==t?"["+e+"]":"e"==t?e:"c"==t?"."+e:void 0}).join(",")}},function(t,e,n){var o=n(0),i=t.exports=function(){this.callbacks={}};i.prototype.add=function(t){return this.callbacks[t]=t,t},i.prototype.addWithKey=function(t,e){this.callbacks[t]=e},i.prototype.remove=function(t){return delete this.callbacks[t],this},i.prototype.run=function(){if(!this.disabled){var t=arguments;o.each(this.callbacks,function(e){e.apply(this,t)})}},i.prototype.runWith=function(t,e){this.disabled||o.each(this.callbacks,function(n){n.apply(t,e)})},i.prototype.disable=function(){this.disabled=!0},i.prototype.enable=function(){this.disabled=!1}},function(t,e,n){var o=n(0),i=n(4),r=(t.exports=function(){var t=new i,e=function(){t.runWith(this,arguments)},n=r(e.prototype),a=r(e);return o.each(arguments,function(e){o.isFunction(e)?(t.add(e),o.each(e.prototype,n),o.each(e,a)):o.each(e,n)}),e},function(t){return function(e,n){var i=t[n];o.isFunction(i)&&o.isFunction(e)?t[n]=function(){return i.apply(this,arguments),e.apply(this,arguments)}:t[n]=e}})},function(t,e,n){var o=n(5),i=n(10),r=n(11),a=n(12),c=n(13),s=n(14),u=n(7),p=n(15),f=n(16);t.exports=o(i,r,a,c,s,p,u,f)},function(t,e,n){var o=n(0),i=t.exports=function(t,e){var n=this;o.forIn(n,function(t,e){o.isArray(t)&&(n[e]=n.inject(t))})};i.prototype._seggregatePropsAndCallback=function(t,e){return e||(e=t.pop()),o.isString(e)&&(e=this[e]),{props:t,callback:e}},i.prototype.inject=function(t,e){var n=this,i=n._seggregatePropsAndCallback.apply(n,arguments);return function(){var t=o.map(i.props,function(t){return n.get(t)});i.callback.apply(n,o.concat(t,arguments))}}},function(t,e,n){const o=n(0),i=n(3);var r=t.exports=function(){},a=o.identity,c=o.identity;document&&(document.body.addEventListener?a=function(t,e,n){e.addEventListener(t,n,!1)}:document.body.attachEvent&&(a=function(t,e,n){e.attachEvent("on"+t,n)}),document.body.removeEventListener?c=function(t,e,n){e.removeEventListener(t,n,!1)}:document.body.detachEvent&&(c=function(t,e,n){e.detachEvent("on"+t,n)})),r.attachEvent=function(t,e,n){o.isArray(t)?o.each(t,function(t){a(t,e,n)}):a(t,e,n)},r.detachEvent=function(t,e,n){o.isArray(t)?o.each(t,function(t){c(t,e,n)}):c(t,e,n)},r.createEventBinder=function(t){i.addBinder("bind-"+t,function(e,n){var o=this,i=function(t){o.set(n,t)};a(t,e,i),o.addDestroyCallback(function(){c(t,e,i)})},{modes:"a",groupName:"events"})},o.each(["keydown","keypress","keyup","click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","focus","blur","change","submit","paste","touchstart","touchend","touchmove","touchcancel"],r.createEventBinder)},function(t,e,n){t.exports.Dom=n(1),t.exports.Callbacks=n(4),t.exports.Incrementer=n(2),t.exports.Merge=n(5),t.exports.Model=n(6),t.exports.ViewModel=n(17)},function(t,e,n){var o=new(n(2));t.exports=function(){this._id=o.next()}},function(t,e,n){var o=new(n(2)),i={};t.exports=function(t,e){var n=e&&e.name||this.name;if(n||(n="component-"+o.next()),i[n])throw["name",n,"already","exists"].join(" ");i[n]=!0,this._name=n}},function(t,e,n){var o=n(0),i=t.exports=function(t){this._attributes=t||{}};i.prototype.get=function(t){return t?o.get(this._attributes,t):this._attributes},i.prototype.set=function(t,e){return t&&t!=this?o.set(this._attributes,t,e):this._attributes=e,this},i.prototype.destroy=function(){delete this._attributes}},function(t,e,n){var o=n(4);(t.exports=function(){this.onDestroy=new o}).prototype.destroy=function(){this.onDestroy.run(),delete this.onDestroy}},function(t,e,n){var o=n(0),i=n(2),r=t.exports=function(t,e){this._watches=e&&e.watches||{},this._externalWatches=e&&e.externalWatches||{},t&&c(this,this._watches)},a=function(t,e){var n=[],i=[];if(e){var r=e&&e.split(".")||["ya"];r.pop();for(var a=r.length,s=0;s<a;s++)i.push(r.join(".")),r.pop();o.each(t._watches,function(t){!t.path&&t.path==e||o.startsWith(t.path,e)?n.push(t):i.length>0&&o.find(i,t.path)&&n.push(t)})}else n=t._watches;c(t,n)},c=function(t,e){o.each(e,function(e){var n=t.get(e.path);e.callback.call(t,n)})},s=new i;r.prototype.watch=function(t,e,n){var o,i=arguments.length;if(i<2||i>3)throw"invalid arguments";if(2==arguments.length)return this.watch(this,t,e);if(t&&t.watch)return t==this?(o=s.next(),this._watches[o]={path:e,callback:n}):(o=t.watch(e,n),this._externalWatches[o]=t),o;throw"watch is not available"},r.prototype.unwatch=function(t){var e=this;if(o.isArray(t))o.each(t,function(t){e.unwatch(t)});else if(delete e._watches[t],e._externalWatches[t]){var n=e._externalWatches[t];n&&n.unwatch&&n.unwatch(t)}},r.prototype.set=function(t,e){return 1==arguments.length?a(this):a(this,t),this},r.prototype.destroy=function(){o.each(this.externalWatches,function(t,e){t&&t.unwatch&&t.unwatch(e)}),delete this._watches}},function(t,e,n){var o=n(0),i=t.exports=function(t,e){};i.prototype.forward=function(t,e,n,o){t||(t=this),n||(n=this);var i=function(t){o?n.set(o,t):n.set(t)},r=e?t.watch(e,i):t.watch(i);return t!=this&&(this._externalWatches[r]=component),r},i.prototype.forwardAll=function(t){var e=this;return o.map(t,function(t){return e.forward.apply(e,t)})}},function(t,e,n){var o=n(0),i=n(7);(t.exports=function(t,e){}).prototype.watchAll=function(t,e){var n=this,r=i.prototype._seggregatePropsAndCallback.apply(n,arguments),a=i.prototype.inject.apply(n,arguments);return o.map(r.props,function(t){return n.watch(t,a)})}},function(t,e,n){var o=n(5),i=n(6),r=n(18),a=n(3);n(19),n(20);var c=n(8),s=n(21),u=n(22),p=t.exports=o(i,r,a,s,c,u);p.make=function(t){return o(p,t)},p.create=function(t){return new(p.make(t))}},function(t,e,n){const o=n(0),i=n(1);t.exports=function(t,e){e=e||{};var n=this;n._elements=i.select(e.html||e.cssSelector||n.html||n.cssSelector);var r=[n._name,n._id].join("-");o.each(n._elements,function(t){i.addClass(t,r),i.addClass(t,n._name)})}},function(t,e,n){var o=n(0),i=n(3),r=n(1);i.addBinder("bind-text",function(t,e){this.watch(e,function(e){(o.isArray(e)||o.isObject(e))&&(e=JSON.stringify(e)),t.innerText=e})},{modes:"a",groupName:"basic"}),i.addBinder("bind-html",function(t,e){this.watch(e,function(e){t.innerHtml=e})},{modes:"a",groupName:"basic"}),i.addBinder("bind-element",function(t,e){this.set(e,t)},{modes:"a",groupName:"basic"}),i.addBinder("bind-component",function(t,e){this.watch(e,function(e){r.empty(t),e&&e._elements&&o.each(e._elements,function(e){r.append(t,e)})})},{modes:"a",groupName:"basic"}),i.addBinder("bind-components",function(t,e){var n={};r.empty(t),this.watch(e,function(e){!o.isNil(e)&&o.isArray(e)||(e=[]);var i={};o.each(e,function(e){var a=e._id;delete n[a],i[a]=e,o.each(e._elements,function(e){r.append(t,e)})}),each(n,function(e){each(e._elements,function(e){t.removeChild(e)})}),n=i})},{modes:"a",groupName:"basic"}),i.addBinder("bind-class",function(t,e){var n={};this.watch(e,function(e){o.each(n,function(t,e){n[e]=!1}),o.isNil(e)&&(e=[]),o.isArray(e)?o.each(e,function(t){n[t]=!0}):o.isString(e)?n[e]=!0:o.isObject(e)&&o.each(e,function(t,e){n[e]=t}),o.each(n,function(e,n){!0===e?r.addClass(t,n):r.removeClass(t,n)})})},{modes:"a",groupName:"basic"})},function(t,e,n){n(0);const o=n(3),i=n(8);var r={INPUT:"value",SELECT:"values",DIV:"innerText"};o.addBinder("bind-value",function(t,e){var n,o=this,a=function(t){var e=r[t.tagName];"value"==e&&"checkbox"==t.getAttribute("type").toLowerCase()&&(e="checked");return e}(t),c=function(i){var r=i.keyCode;16!=r&&17!=r&&18!=r&&(n=function(t,e){return t[e]}(t,a,i.target),o.set(e,n))};each(["change","keyup"],function(e){i.attachEvent(e,t,throttle(c,100))}),o.watch(e,function(e){n==e||isNil(e)||(!function(t,e,n){t[e]=n}(t,a,e),n=e)})},{modes:"a",groupName:"basic"})},function(t,e,n){const o=n(0);n(1);var i=o.each,r=(t.exports=function(t,e){r(e||{},this._binders,this)},function(t,e,n){var o=t.includeBinderGroups,r=t.includeBinders;(r&&0!=r.length||o&&0!=o.length)&&(o&&i(o,function(t){i(e,function(n,o){n.options.groupName==t&&(e[o]=n)})}),r&&i(r,function(t){i(e,function(n,o){n.name==t&&(e[o]=n)})})),i(e,a(t,e,n))}),a=function(t,e,n){return function(t,e){i(n._elements,function(e){var o,r=e.querySelectorAll(t.selector);i(r,function(e){c(e,t,n)}),i(t.modes,function(n){if("a"==n&&e.hasAttribute(t.name)||"e"==n&&e.tagName==t.name)return o=!0,!1}),o&&c(e,t,n)})}},c=function(t,e,n){var o;e.hasAttributeMode&&(o=t.getAttribute(e.name)),e.callback.call(n,t,o)}},function(t,e,n){const o=n(0),i=n(1);(t.exports=function(t,e){this.setCss(e&&e.css||this.css)}).prototype.setCss=function(t){t=t||"";var e=this._name;t.indexOf("view-name")>-1&&(t=t.replace(new RegExp("view-name","g"),this._name)),t.indexOf("view-id")>-1&&(t=t.replace(new RegExp("view-id","g"),this._id),e=this._id);var n=i.get(e);return o.isNil(n)&&((n=i.create("style")).setAttribute("id",e),i.append(n)),n.innerHTML=t,n}}])});