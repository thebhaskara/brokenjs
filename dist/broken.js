!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],e):"object"==typeof exports?exports.broken=e(require("lodash")):t.broken=e(t._)}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(e,n){e.exports=t},function(t,e,n){var o=n(0);t.exports.select=function(t){return t.trim().startsWith("<")?s(t):document.querySelectorAll(t)},t.exports.get=function(t){return document.getElementById(t)};var i=t.exports.create=function(t){return document.createElement(t)},a=t.exports.append=function(t,e){e instanceof HTMLElement?t.appendChild(e):t instanceof HTMLElement&&document.body.append(t)};t.exports.appendAll=function(t){o.each(t,a)};var r,c,s=t.exports.makeElements=function(t){var e=i("div");return e.innerHTML=t,o.map(e.children)};t.exports.empty=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)};r=document.body.classList?function(t,e){t.classList.add(e)}:function(t,e){t.className+=" "+e},t.exports.addClass=r,c=document.body.classList?function(t,e){t.classList.remove(e)}:function(t,e){t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},t.exports.removeClass=c},function(t,e){var n=t.exports=function(){this.value=0};n.prototype.next=function(){return this.value++,this.value},n.prototype.reset=function(){return this.value=0,this}},function(t,e,n){const o=n(0);n(1);var i={},a=t.exports=function(t,e){this._binders=o.clone(i)},r={modes:"a"},c=(a.addBinder=a.prototype.addBinder=function(t,e,n){var a=this&&this._binders||i;if(a[t])throw t+" binder already exists";o.isFunction(e)&&(n=e,e=r);var u=c(e),p=u.join().indexOf("a")>-1,h=s(u,t);a[t]={name:t,modes:u,hasAttributeMode:p,selector:h,callback:n,options:e}},function(t){var e=t&&o.isString(t.modes)&&t.modes||"a";return e=e.toLowerCase().replace(/[^a|^e|^c]/g,"").split(),o.uniq(e)}),s=function(t,e){return o.map(t,function(t){return"a"==t?"["+e+"]":"e"==t?e:"c"==t?"."+e:void 0}).join(",")}},function(t,e,n){var o=n(0),i=t.exports=function(){this.callbacks={}};i.prototype.add=function(t){return this.callbacks[t]=t,t},i.prototype.addWithKey=function(t,e){this.callbacks[t]=e},i.prototype.remove=function(t){return delete this.callbacks[t],this},i.prototype.run=function(){if(!this.disabled){var t=arguments;o.each(this.callbacks,function(e){e.apply(this,t)})}},i.prototype.runWith=function(t,e){this.disabled||o.each(this.callbacks,function(n){n.apply(t,e)})},i.prototype.disable=function(){this.disabled=!0},i.prototype.enable=function(){this.disabled=!1}},function(t,e,n){var o=n(0),i=n(4),a=(t.exports=function(){var t=new i,e=function(){t.runWith(this,arguments)},n=a(e.prototype),r=a(e);return o.each(arguments,function(e){o.isFunction(e)?(t.add(e),o.each(e.prototype,n),o.each(e,r)):o.each(e,n)}),e},function(t){return function(e,n){var i=t[n];o.isFunction(i)&&o.isFunction(e)?t[n]=function(){return i.apply(this,arguments),e.apply(this,arguments)}:t[n]=e}})},function(t,e,n){var o=n(5),i=n(10),a=n(11),r=n(12),c=n(13),s=n(14),u=n(7),p=n(15),h=n(16);t.exports=o(i,a,r,c,s,p,u,h)},function(t,e,n){var o=n(0),i=t.exports=function(t,e){var n=this;o.forIn(n,function(t,e){o.isArray(t)&&(n[e]=n.inject(t))})};i.prototype._seggregatePropsAndCallback=function(t,e){return e||(e=t.pop()),o.isString(e)&&(e=this[e]),{props:t,callback:e}},i.prototype.inject=function(t,e){var n=this,i=n._seggregatePropsAndCallback.apply(n,arguments);return function(){var t=o.map(i.props,function(t){return n.get(t)});i.callback.apply(n,o.concat(t,arguments))}}},function(t,e,n){const o=n(0),i=n(3);var a=t.exports=function(){},r=o.identity,c=o.identity;document&&(document.body.addEventListener?r=function(t,e,n){e.addEventListener(t,n,!1)}:document.body.attachEvent&&(r=function(t,e,n){e.attachEvent("on"+t,n)}),document.body.removeEventListener?c=function(t,e,n){e.removeEventListener(t,n,!1)}:document.body.detachEvent&&(c=function(t,e,n){e.detachEvent("on"+t,n)})),a.attachEvent=function(t,e,n){o.isArray(t)?o.each(t,function(t){r(t,e,n)}):r(t,e,n)},a.detachEvent=function(t,e,n){o.isArray(t)?o.each(t,function(t){c(t,e,n)}):c(t,e,n)},a.createEventBinder=function(t){i.addBinder("bind-"+t,function(e,n){var o=this,i=function(t){o.set(n,t)};r(t,e,i),o.onDestroy.add(function(){c(t,e,i)})},{modes:"a",groupName:"events"})},o.each(["keydown","keypress","keyup","click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","focus","blur","change","submit","paste","touchstart","touchend","touchmove","touchcancel"],a.createEventBinder)},function(t,e,n){t.exports.Dom=n(1),t.exports.Callbacks=n(4),t.exports.Incrementer=n(2),t.exports.Merge=n(5),t.exports.Model=n(6),t.exports.ViewModel=n(17)},function(t,e,n){var o=new(n(2));t.exports=function(){this._id=o.next()}},function(t,e,n){var o=new(n(2)),i={};t.exports=function(t,e){var n=e&&e.name||this.name;n?i[n]=!0:n="component-"+o.next(),this._name=n}},function(t,e,n){var o=n(0),i=t.exports=function(t){this._attributes=t||{}};i.prototype.get=function(t){return t?o.get(this._attributes,t):this._attributes},i.prototype.set=function(t,e){return t&&t!=this?o.set(this._attributes,t,e):this._attributes=e,this},i.prototype.destroy=function(){delete this._attributes}},function(t,e,n){var o=n(4);(t.exports=function(){this.onDestroy=new o}).prototype.destroy=function(){this.onDestroy.run(),delete this.onDestroy}},function(t,e,n){var o=n(0),i=n(2),a=t.exports=function(t,e){var n=this;n._watches=e&&e.watches||{},n._externalWatches=e&&e.externalWatches||{},t&&c(n,n._watches);var i=e&&e.initWatches||n.initWatches;i&&o.each(i,function(t,e){n.watch(e,t)})},r=function(t,e){var n=[],i=[];if(e){var a=e&&e.split(".")||["ya"];a.pop();for(var r=a.length,s=0;s<r;s++)i.push(a.join(".")),a.pop();o.each(t._watches,function(t){!t.path&&t.path==e||o.startsWith(t.path,e)?n.push(t):i.length>0&&o.find(i,t.path)&&n.push(t)})}else n=t._watches;c(t,n)},c=function(t,e){o.each(e,function(e){var n=t.get(e.path);e.callback.call(t,n)})},s=new i;a.prototype.watch=function(t,e,n){var o,i=arguments.length;if(i<2||i>3)throw"invalid arguments";if(2==arguments.length)return this.watch(this,t,e);if(t&&t.watch)return t==this?(o=s.next(),this._watches[o]={path:e,callback:n}):(o=t.watch(e,n),this._externalWatches[o]=t),o;throw"watch is not available"},a.prototype.unwatch=function(t){var e=this;if(o.isArray(t))o.each(t,function(t){e.unwatch(t)});else if(delete e._watches[t],e._externalWatches[t]){var n=e._externalWatches[t];n&&n.unwatch&&n.unwatch(t)}},a.prototype.set=function(t,e){return 1==arguments.length?r(this):r(this,t),this},a.prototype.destroy=function(){o.each(this._externalWatches,function(t,e){t&&t.unwatch&&t.unwatch(e)}),delete this._watches}},function(t,e,n){var o=n(0),i=t.exports=function(t,e){};i.prototype.forward=function(t,e,n,o){t||(t=this),n||(n=this);var i=function(t){o?n.set(o,t):n.set(t)},a=e?t.watch(e,i):t.watch(i);return t!=this&&(this._externalWatches[a]=component),a},i.prototype.forwardAll=function(t){var e=this;return o.map(t,function(t){return e.forward.apply(e,t)})}},function(t,e,n){var o=n(0),i=n(7);(t.exports=function(t,e){}).prototype.watchAll=function(t,e){var n=this,a=i.prototype._seggregatePropsAndCallback.apply(n,arguments),r=i.prototype.inject.apply(n,arguments);return o.map(a.props,function(t){return n.watch(t,r)})}},function(t,e,n){var o=n(5),i=n(6),a=n(18),r=n(3);n(19),n(20);var c=n(8),s=n(21),u=n(22),p=t.exports=o(i,a,r,s,c,u);p.make=function(){return o.apply(this,_.concat([p],arguments))},p.create=function(t){return new(p.make.apply(this,arguments))}},function(t,e,n){const o=n(0),i=n(1);t.exports=function(t,e){e=e||{};var n=this;n._elements=i.select(e.html||e.cssSelector||n.html||n.cssSelector);var a=[n._name,n._id].join("-");o.each(n._elements,function(t){i.addClass(t,a),i.addClass(t,n._name)})}},function(t,e,n){var o=n(0),i=n(3),a=n(1);i.addBinder("bind-text",function(t,e){this.watch(e,function(e){(o.isArray(e)||o.isObject(e))&&(e=JSON.stringify(e)),t.innerText=e})},{modes:"a",groupName:"basic"}),i.addBinder("bind-html",function(t,e){this.watch(e,function(e){t.innerHtml=e})},{modes:"a",groupName:"basic"}),i.addBinder("bind-element",function(t,e){this.set(e,t)},{modes:"a",groupName:"basic"}),i.addBinder("bind-component",function(t,e){this.watch(e,function(e){a.empty(t),e&&e._elements&&o.each(e._elements,function(e){a.append(t,e)})})},{modes:"a",groupName:"basic"}),i.addBinder("bind-components",function(t,e){var n={};a.empty(t),this.watch(e,function(e){!o.isNil(e)&&o.isArray(e)||(e=[]);var i={};o.each(e,function(e){var r=e._id;delete n[r],i[r]=e,o.each(e._elements,function(e){a.append(t,e)})}),o.each(n,function(e){o.each(e._elements,function(e){t.removeChild(e)})}),n=i})},{modes:"a",groupName:"basic"}),i.addBinder("bind-class",function(t,e){var n={};this.watch(e,function(e){o.each(n,function(t,e){n[e]=!1}),o.isNil(e)&&(e=[]),o.isArray(e)?o.each(e,function(t){n[t]=!0}):o.isString(e)?n[e]=!0:o.isObject(e)&&o.each(e,function(t,e){n[e]=t}),o.each(n,function(e,n){!0===e?a.addClass(t,n):a.removeClass(t,n)})})},{modes:"a",groupName:"basic"}),i.addBinder("bind-show",function(t,e){var n=function(e){t.style.display=e?null:"none"};this.watch(e,n),n(this.get(e))},{modes:"a",groupName:"basic"}),i.addBinder("bind-hide",function(t,e){var n=function(e){t.style.display=e?"none":null};this.watch(e,n),n(this.get(e))},{modes:"a",groupName:"basic"}),i.addBinder("bind-src",function(t,e){this.watch(e,function(e){t.src=e})},{modes:"a",groupName:"basic"})},function(t,e,n){const o=n(0),i=n(3),a=n(8),r=o.each,c=o.throttle;var s={INPUT:"value",SELECT:"values",DIV:"innerText"};i.addBinder("bind-value",function(t,e){var n,o=this,i=function(t){var e=s[t.tagName];"value"==e&&"checkbox"==t.getAttribute("type").toLowerCase()&&(e="checked");return e}(t),u=function(a){var r=a.keyCode;16!=r&&17!=r&&18!=r&&(n=function(t,e){return t[e]}(t,i,a.target),o.set(e,n))};r(["change","keyup"],function(e){a.attachEvent(e,t,c(u,100))}),o.watch(e,function(e){n==e||isNil(e)||(!function(t,e,n){t[e]=n}(t,i,e),n=e)})},{modes:"a",groupName:"basic"})},function(t,e,n){const o=n(0);n(1);var i=o.each,a=(t.exports=function(t,e){a(e||{},this._binders,this)},function(t,e,n){var o=t.includeBinderGroups,a=t.includeBinders;(a&&0!=a.length||o&&0!=o.length)&&(o&&i(o,function(t){i(e,function(n,o){n.options.groupName==t&&(e[o]=n)})}),a&&i(a,function(t){i(e,function(n,o){n.name==t&&(e[o]=n)})})),i(e,r(t,e,n))}),r=function(t,e,n){return function(t,e){i(n._elements,function(e){var o,a=e.querySelectorAll(t.selector);i(a,function(e){c(e,t,n)}),i(t.modes,function(n){if("a"==n&&e.hasAttribute(t.name)||"e"==n&&e.tagName==t.name)return o=!0,!1}),o&&c(e,t,n)})}},c=function(t,e,n){var o;e.hasAttributeMode&&(o=t.getAttribute(e.name)),e.callback.call(n,t,o)}},function(t,e,n){const o=n(0),i=n(1);(t.exports=function(t,e){this.setCss(e&&e.css||this.css)}).prototype.setCss=function(t){t=t||"";var e=this._name;t.indexOf("view-name")>-1&&(t=t.replace(new RegExp("view-name","g"),this._name)),t.indexOf("view-id")>-1&&(t=t.replace(new RegExp("view-id","g"),this._id),e=this._id);var n=i.get(e);return o.isNil(n)&&((n=i.create("style")).setAttribute("id",e),i.append(n)),n.innerHTML=t,n}}])});